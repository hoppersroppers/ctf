
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Passwords and Hashing on Linux · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-solarizedlight.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-bibtex-indexed-cite/style.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-footer-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="13-XOR.html" />
    
    
    <link rel="prev" href="11-Passwords.html" />
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"buttons":[{"user":"hoppersroppers","repo":"ctf","type":"star","size":"small","count":true}]};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">Course Overview</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../CourseOverview/0-CapturetheFlagCourse.html">
            
                <a href="../CourseOverview/0-CapturetheFlagCourse.html">
            
                    
                    Capture the Flag Course
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../CourseOverview/1-TheSite.html">
            
                <a href="../CourseOverview/1-TheSite.html">
            
                    
                    The Site
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../CourseOverview/2-Legal.html">
            
                <a href="../CourseOverview/2-Legal.html">
            
                    
                    Legal
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Capture the Flags</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../CapturetheFlags/0-JeopardyStyle.html">
            
                <a href="../CapturetheFlags/0-JeopardyStyle.html">
            
                    
                    Jeopardy Style
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../CapturetheFlags/1-WhatYouWillLearn.html">
            
                <a href="../CapturetheFlags/1-WhatYouWillLearn.html">
            
                    
                    What You Will Learn
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">CTF Meta</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../CTFMeta/0-BasicPrinciples.html">
            
                <a href="../CTFMeta/0-BasicPrinciples.html">
            
                    
                    Basic Principles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../CTFMeta/1-LinuxandVMs.html">
            
                <a href="../CTFMeta/1-LinuxandVMs.html">
            
                    
                    Linux and VMs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../CTFMeta/2-ProgrammingandScripting.html">
            
                <a href="../CTFMeta/2-ProgrammingandScripting.html">
            
                    
                    Programming and Scripting 
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">File Forensics</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../FileForensics/0-CTFMeta.html">
            
                <a href="../FileForensics/0-CTFMeta.html">
            
                    
                    CTF Meta
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../FileForensics/1-RepresentingData.html">
            
                <a href="../FileForensics/1-RepresentingData.html">
            
                    
                    Representing Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../FileForensics/2-PolyglotFiles.html">
            
                <a href="../FileForensics/2-PolyglotFiles.html">
            
                    
                    Polyglot Files
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="../FileForensics/3-JPGAdventuresIP.html">
            
                <a href="../FileForensics/3-JPGAdventuresIP.html">
            
                    
                    JPG Adventures IP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="../FileForensics/5-FileCarving1.html">
            
                <a href="../FileForensics/5-FileCarving1.html">
            
                    
                    File Carving 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="../FileForensics/6-FileCarving2.html">
            
                <a href="../FileForensics/6-FileCarving2.html">
            
                    
                    File Carving 2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="../FileForensics/7-FileCarving3.html">
            
                <a href="../FileForensics/7-FileCarving3.html">
            
                    
                    File Carving 3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.8" data-path="../FileForensics/8-FileCarving4.html">
            
                <a href="../FileForensics/8-FileCarving4.html">
            
                    
                    File Carving 4
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.9" data-path="../FileForensics/9-FileCarving5.html">
            
                <a href="../FileForensics/9-FileCarving5.html">
            
                    
                    File Carving 5
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.10" data-path="../FileForensics/11-FileMetadata.html">
            
                <a href="../FileForensics/11-FileMetadata.html">
            
                    
                    File Metadata
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.11" data-path="../FileForensics/12-FileMetadata2.html">
            
                <a href="../FileForensics/12-FileMetadata2.html">
            
                    
                    File Metadata 2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.12" data-path="../FileForensics/14-Steganography1.html">
            
                <a href="../FileForensics/14-Steganography1.html">
            
                    
                    Steganography 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.13" data-path="../FileForensics/15-Steganography2.html">
            
                <a href="../FileForensics/15-Steganography2.html">
            
                    
                    Steganography 2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.14" data-path="../FileForensics/18-UserTestimonial.html">
            
                <a href="../FileForensics/18-UserTestimonial.html">
            
                    
                    User Testimonial
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Cryptography</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="0-CTFMeta.html">
            
                <a href="0-CTFMeta.html">
            
                    
                    CTF Meta 
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="1-ClassicalCiphers.html">
            
                <a href="1-ClassicalCiphers.html">
            
                    
                    Classical Ciphers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="2-FrequencyAnalysis.html">
            
                <a href="2-FrequencyAnalysis.html">
            
                    
                    Frequency Analysis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="3-AutomatedFrequencyAnalysis.html">
            
                <a href="3-AutomatedFrequencyAnalysis.html">
            
                    
                    Automated Frequency Analysis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="4-IndexofCoincidence.html">
            
                <a href="4-IndexofCoincidence.html">
            
                    
                    Index of Coincidence
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="5-CaesarCiphersandSubstitution.html">
            
                <a href="5-CaesarCiphersandSubstitution.html">
            
                    
                    Caesar Ciphers and Substitution
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.7" data-path="6-VigenereCiphers.html">
            
                <a href="6-VigenereCiphers.html">
            
                    
                    Vigenere Ciphers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.8" data-path="7-FunCiphers.html">
            
                <a href="7-FunCiphers.html">
            
                    
                    Fun Ciphers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.9" data-path="9-ModernCryptography.html">
            
                <a href="9-ModernCryptography.html">
            
                    
                    Modern Cryptography
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.10" data-path="10-ModernCrypto.html">
            
                <a href="10-ModernCrypto.html">
            
                    
                    Modern Crypto
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.11" data-path="11-Passwords.html">
            
                <a href="11-Passwords.html">
            
                    
                    Passwords
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="5.12" data-path="12-PasswordsandHashingonLinux.html">
            
                <a href="12-PasswordsandHashingonLinux.html">
            
                    
                    Passwords and Hashing on Linux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.13" data-path="13-XOR.html">
            
                <a href="13-XOR.html">
            
                    
                    XOR
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.14" data-path="14-RSA.html">
            
                <a href="14-RSA.html">
            
                    
                    RSA
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.15" data-path="16-ThingsYouShouldntTrytoDo.html">
            
                <a href="16-ThingsYouShouldntTrytoDo.html">
            
                    
                    Things You Shouldnt Try to Do
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.16" data-path="17-HackerMath.html">
            
                <a href="17-HackerMath.html">
            
                    
                    Hacker Math
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Network Forensics</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../NetworkForensics/0-CTFMeta.html">
            
                <a href="../NetworkForensics/0-CTFMeta.html">
            
                    
                    CTF Meta 
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../NetworkForensics/1-NetworkForensicsIP.html">
            
                <a href="../NetworkForensics/1-NetworkForensicsIP.html">
            
                    
                    Network Forensics IP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="../NetworkForensics/2-WiresharkTutorial.html">
            
                <a href="../NetworkForensics/2-WiresharkTutorial.html">
            
                    
                    Wireshark Tutorial
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="../NetworkForensics/3-NetForensics1.html">
            
                <a href="../NetworkForensics/3-NetForensics1.html">
            
                    
                    NetForensics 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="../NetworkForensics/4-NetForensics2.html">
            
                <a href="../NetworkForensics/4-NetForensics2.html">
            
                    
                    NetForensics 2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="../NetworkForensics/5-tSharkTutorial.html">
            
                <a href="../NetworkForensics/5-tSharkTutorial.html">
            
                    
                    tShark Tutorial
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.7" data-path="../NetworkForensics/6-NetForensics3.html">
            
                <a href="../NetworkForensics/6-NetForensics3.html">
            
                    
                    NetForensics 3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.8" data-path="../NetworkForensics/7-PacketCraftingTBD.html">
            
                <a href="../NetworkForensics/7-PacketCraftingTBD.html">
            
                    
                    Packet Crafting TBD
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.9" data-path="../NetworkForensics/8-PacketCrafting1.html">
            
                <a href="../NetworkForensics/8-PacketCrafting1.html">
            
                    
                    Packet Crafting 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.10" data-path="../NetworkForensics/9-LearnNetworking.html">
            
                <a href="../NetworkForensics/9-LearnNetworking.html">
            
                    
                    Learn Networking 
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Scripting and Misc</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../ScriptingandMisc/0-PwntoolsProblems.html">
            
                <a href="../ScriptingandMisc/0-PwntoolsProblems.html">
            
                    
                    Pwntools Problems
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../ScriptingandMisc/1-LanguageProblems.html">
            
                <a href="../ScriptingandMisc/1-LanguageProblems.html">
            
                    
                    Language Problems
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="../ScriptingandMisc/2-GitInsanity.html">
            
                <a href="../ScriptingandMisc/2-GitInsanity.html">
            
                    
                    Git Insanity
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="../ScriptingandMisc/3-CryptocurrencyProblems.html">
            
                <a href="../ScriptingandMisc/3-CryptocurrencyProblems.html">
            
                    
                    Cryptocurrency Problems
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.5" data-path="../ScriptingandMisc/4-QRCodes.html">
            
                <a href="../ScriptingandMisc/4-QRCodes.html">
            
                    
                    QR Codes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.6" data-path="../ScriptingandMisc/5-RestrictedShells.html">
            
                <a href="../ScriptingandMisc/5-RestrictedShells.html">
            
                    
                    Restricted Shells
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.7" data-path="../ScriptingandMisc/6-EverythingElseTBD.html">
            
                <a href="../ScriptingandMisc/6-EverythingElseTBD.html">
            
                    
                    Everything Else TBD
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Host and Memory Forensics</li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="../HostandMemoryForensics/0-ForensicsMetaIP.html">
            
                <a href="../HostandMemoryForensics/0-ForensicsMetaIP.html">
            
                    
                    Forensics Meta IP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="../HostandMemoryForensics/1-HostForensicsBasics.html">
            
                <a href="../HostandMemoryForensics/1-HostForensicsBasics.html">
            
                    
                    Host Forensics Basics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.3" data-path="../HostandMemoryForensics/2-MemoryForensicsBasics.html">
            
                <a href="../HostandMemoryForensics/2-MemoryForensicsBasics.html">
            
                    
                    Memory Forensics Basics
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Web Exploitation</li>
        
        
    
        <li class="chapter " data-level="9.1" data-path="../WebExploitation/0-CTFMeta.html">
            
                <a href="../WebExploitation/0-CTFMeta.html">
            
                    
                    CTF Meta
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="../WebExploitation/1-LearnWebExploitationwithCapturetheFlags.html">
            
                <a href="../WebExploitation/1-LearnWebExploitationwithCapturetheFlags.html">
            
                    
                    Learn Web Exploitation with Capture the Flags
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Binary Exploitation and Reversing</li>
        
        
    
        <li class="chapter " data-level="10.1" data-path="../BinaryExploitationandReversing/0-YouWontLearnThatHere.html">
            
                <a href="../BinaryExploitationandReversing/0-YouWontLearnThatHere.html">
            
                    
                    You Wont Learn That Here
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.2" data-path="../BinaryExploitationandReversing/1-FundamentalsofExploitDevelopment.html">
            
                <a href="../BinaryExploitationandReversing/1-FundamentalsofExploitDevelopment.html">
            
                    
                    Fundamentals of Exploit Development
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Next Steps and Trusted Resources</li>
        
        
    
        <li class="chapter " data-level="11.1" data-path="../NextStepsandTrustedResources/0-PicoCTF.html">
            
                <a href="../NextStepsandTrustedResources/0-PicoCTF.html">
            
                    
                    PicoCTF
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.2" data-path="../NextStepsandTrustedResources/1-TryHackMe.html">
            
                <a href="../NextStepsandTrustedResources/1-TryHackMe.html">
            
                    
                    TryHackMe
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.3" data-path="../NextStepsandTrustedResources/2-HackTheBox.html">
            
                <a href="../NextStepsandTrustedResources/2-HackTheBox.html">
            
                    
                    HackTheBox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.4" data-path="../NextStepsandTrustedResources/4-UserTestimonial.html">
            
                <a href="../NextStepsandTrustedResources/4-UserTestimonial.html">
            
                    
                    User Testimonial
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Passwords and Hashing on Linux</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="passwords-and-hashing-on-linux">Passwords and Hashing on Linux</h1>
<p>A good deal of security is based around the idea of confidentiality, that someone who is not authorized to read something can&apos;t read it. We discussed the idea of permissions earlier, where someone who is not authorized to read something is simply not granted access to it by a computer, but there are situations in which we need to send or otherwise expose sensitive data. To allow data to be exposed without authentication, we need a way to protect that sensitive information from people who don&apos;t know some sort of secret. This is where math comes in.  </p>
<p>There are two primary ways to protect the confidentiality of secret information: Encryption and hashing. Let&apos;s go into each a little bit, but we will focus on hashing here.</p>
<h3 id="encryption">Encryption</h3>
<p>Encryption is something you&apos;ve definitely heard of before, it&apos;s the lock on HTTPS websites, it&apos;s what we are supposed to do with sensitive files before we send them via email, it&apos;s everywhere. Encryption, at it&apos;s fundamental level, is doing math and having some sort of shared secret between the sender and the receiver that any adversary who is listening in doesn&apos;t have, so the sender can encrypt and the receiver can decrypt, and the adversary doesn&apos;t know anything other than that a message got sent. </p>
<p>There&apos;s a ton to learn about the study of encryption which is known as cryptography, and I have a <a href="$@COURSEVIEWBYID*7@$#section-5">giant section in my CTF course about it</a> if you want to learn more.</p>
<h2 id="encoding-and-obfuscation">Encoding and Obfuscation</h2>
<p>One big giant step down from encryption is encoding and obfuscation. While they might look like encryption, they are really just ways of translating data into another form. While you might need to spend some time figuring out how it is obfuscated or encoded, there is no math involved so it is far from secret. </p>
<p>Encoding is notably not always a security measure, and can be used to get data into an acceptable format for transfer. One common example is Base64 encoding, which can be used to convert a binary into printable ASCII text. </p>
<h2 id="hashing">Hashing</h2>
<p>Finally, we get to hashing, the star of this lesson. Hashing is what we use if we wanted to encrypt something so that it could never be decrypted again. What does that mean, you&apos;re probably thinking. Hashes are designed to be mathematically one way, meaning it is impossible to reverse a hash into the data that was used to create it. Hashing functions are algorithms that take in any data, do math on it, and output a string of some set length depending on the function, that can be assumed to be unique to whatever the input was. To put it another way, no two inputs should result in the same output hash (that doesn&apos;t mean it&apos;s impossible, and it&apos;s very interesting when it does, but that is outside the scope of this course).</p>
<p>Let&apos;s play around with hashing to try and get an idea of what this means. One of the more famous hashing algorithms is md5, so we&apos;ll use the &apos;md5sum&apos; utility that should be included on your Linux machine. </p>
<p>Run this command, which takes the string &quot;password&quot; and gets the md5 hash of it.</p>
<pre class="language-"><code>$ echo -n &quot;password&quot; | md5sum
</code></pre><p>Now, run this command. </p>
<pre class="language-"><code>$ echo -n &quot;password1&quot; | md5sum
</code></pre><p>As you can see, the outputs are completely different. We can also use hashing on files and programs.</p>
<pre class="language-"><code>$ md5sum /bin/ls
</code></pre><p>This will give us the unique hash of the &apos;ls&apos; program. If a single bit in the program changes, the hash will be completely different. This is used by many software companies when they distribute software to verify the <strong><em>integrity</em></strong> of their software, as it allows downloaders to verify the hash to make sure the file they received is not corrupted. So hashing is interesting and one way, but doesn&apos;t that mean everyone in the world who gets the md5 hash of &quot;password&quot; has the same value? Absolutely. For a fun check, google the hash of &apos;password&apos; and you&apos;ll find that it is everywhere. </p>
<p>What does that mean then, that we can&apos;t use the  password &quot;password&quot; anymore because someone can view hashes, crack them using a dictionary of common words, and then use it to log in? Well you shouldn&apos;t use common words, but that&apos;s not actually much of a problem because of something known as salting.</p>
<h2 id="salting">Salting</h2>
<p>Salting is a very cool technique where a computer or website creates a unique string to place at the end of every password entered.This means that they can leave their hashes publicly readable, but an attacker is going to have  a much harder time cracking them. Let&apos;s demo this, as if we were a user setting their password for the first time on a system with hashing enabled.</p>
<pre class="language-"><code>$ echo &quot;password&amp;secretsalt1337&quot; | md5sum
</code></pre><p>So here we are emulating as if the user entered their new password &quot;password&quot;, the system added on a salt, in this case &quot;&amp;secretsalt1337&quot;, and then the system saves the salt and the output of the md5 hash. The original password entered will not be saved anywhere.</p>
<p>Now the next time when you enter your password, it will be combined with the salt stored on file, hashed, and then the hash will be compared to the hash on file, not any stored password. We&apos;ll come back to this later, but it&apos;s 2021, there is no excuse to be storing someone else&apos;s password.</p>
<h2 id="etcshadow">/etc/shadow</h2>
<p>As we showed earlier, modern Linux versions don&apos;t store passwords in /etc/passwd. Instead, they have been moved to /etc/shadow. So now, guess we just have to <code>cat /etc/shadow</code> instead, right? </p>
<p>If you have been paying attention to this course so far, you probably guessed that wouldn&apos;t work. If you check the permissions, in order to read /etc/passwd, we need root access. So now we try it with superuser privileges and we should see the results.</p>
<p>There should be a bunch of entries, but let&apos;s break one down. </p>
<pre class="language-"><code>dennis:$6$iU9KjTeD$5myyo4W7zppTOEdVUeP8/E6Kmjl7CtYYFqIIyes.fnNHy1fR0gJLb0q2KLhjAH6KrPpHZ0eJorBh.D74mq.vQ.:17952:0:99999:7:::
</code></pre><p>Briefly read through the man page for &quot;shadow&quot; and see the breakdown: <a href="https://linux.die.net/man/5/shadow" target="_blank">man shadow</a></p>
<p>The most notable part of this is the password field, field #2. To break it out, we can see that it is represented by: </p>
<pre class="language-"><code class="lang-:$6$iU9KjTeD$5myyo4W7zppTOEdVUeP8/E6Kmjl7CtYYFqIIyes.fnNHy1fR0gJLb0q2KLhjAH6KrPpHZ0eJorBh.D74mq.vQ.:```">
Notably, you can&apos;t actually read the password! Let&apos;s break this field down ever further:

* $6 
   * This represents the hashing mechanism we are using to generate the hash from this password
* $iU9KjTeD
   * This represents the randomly generated salt used
   * Remember how we were talking about salts earlier? In Linux, the salt is randomly generated for the user when they are created. These salts are different for each user.
* $5myyo4W7zppTOEdVUeP8...
   * This is the resulting hash of taking the user&apos;s password and the randomly generated salt 

When a user types in a password, the OS takes the input, adds the salt that is saved in /etc/shadow, hashes the string, and then compares the output to the saved hash in /etc/shadow. If the hashes match, access is granted. 

So you might be asking, what is the salt for if an attacker can figure out what it is, and then run a dictionary of common passwords against it, to create a bunch of hashes, then compare those hashes to the hash saved in /etc/shadow? Well, the answer is that it is super inefficient to do that for every user. Without salts, attackers would only need one giant list of hashes to check against. With salts, for every user they need to run a new cracker against the hash. That is technically difficult and expensive enough that very few attackers will ever take the time to do that for your password. You&apos;re just not special enough, which is a good thing.

Beyond this format, there are a few other characters that can be saved in an /etc/shadow password field. The use of &quot;!&quot; or &quot;*&quot; in this field indicates that the account cannot be logged into using a password, and must instead be logged into using an alternate method, such as an SSH key. This minimizes risk by forcing an attacker to know or have something besides a simple password. 

As a note, on modern Linux systems there are a variety of authentication methods (usually known as PAM) which use /etc/shadow in various ways. They are outside of the scope of this course, if you ever find yourself in a job that focuses on Linux auth, blame me for not teaching you more... and then teach yourself. 


## Lock or Delete an Account 

If you need to lock an account so that it cannot be logged into, but still exists, use this command.
</code></pre>
<p>$ sudo usermod -L account_name</p>
<pre class="language-"><code>It will modify the /etc/shadow file to have an &quot;*&quot; in front of the password field so the account cannot be logged into. Check this using ```cat```.

To delete an account:
</code></pre><p>$ sudo userdel account_name</p>
<pre class="language-"><code>
# Assignment: 

1. What is in /etc/shadow? Describe how hashing, salting, and cracking work from the perspective of a defender. 
2. Break down  this entry from /etc/shadow. Describe each field. especially focusing on the password field.
   * ```dennis:$6$iU9KjTeD$5myyo4W7zppTOEdVUeP8/E6Kmjl7CtYYFqIIyes.fnNHy1fR0gJLb0q2KLhjAH6KrPpHZ0eJorBh.D74mq.vQ.:17952:0:99999:7:::
</code></pre><ol>
<li>Create an account, set the password, check the password in /etc/shadow. Then lock the account using <code>usermod</code>, check the password again. Now, unlock the account, you will have to Google or use man pages for this. Check /etc/shadow again. Briefly write up what you saw and any problems you had doing this.</li>
</ol>
<p>Answer in the appropriate format. </p>
<pre class="language-"><code> Answers:

 1.

 Resources:


 Pre-Questions:


 Post-Questions:


 Feedback:
</code></pre><footer class="page-footer-ex"> <span class="page-footer-ex-copyright"> Hoppers Roppers 2020 </span> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <span class="page-footer-ex-footer-update"> Date&#xFF1A; 2021-09-10 21:47:01 </span> </footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="11-Passwords.html" class="navigation navigation-prev " aria-label="Previous page: Passwords">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="13-XOR.html" class="navigation navigation-next " aria-label="Next page: XOR">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Passwords and Hashing on Linux","level":"5.12","depth":1,"next":{"title":"XOR","level":"5.13","depth":1,"path":"Cryptography/13-XOR.md","ref":"Cryptography/13-XOR.md","articles":[]},"previous":{"title":"Passwords","level":"5.11","depth":1,"path":"Cryptography/11-Passwords.md","ref":"Cryptography/11-Passwords.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-lunr","-search","search-pro","-sharing","github-buttons","editlink","ga","-highlight","prism","bibtex-indexed-cite","page-footer-ex","splitter","copy-code-button","expandable-chapters-small"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"ignore":["mermaid","eval-js"],"css":["prismjs/themes/prism-solarizedlight.css"]},"editlink":{"label":"Edit","multilingual":false,"base":"https://github.com/hoppersroppers/ctf/blob/master"},"page-footer-ex":{"copyright":"Hoppers Roppers 2020","markdown":true,"update_format":"YYYY-MM-DD HH:mm:ss","update_label":"Date："},"splitter":{},"search-pro":{"cutWordLib":"nodejieba","defineWord":["Gitbook Use"]},"fontsettings":{"theme":"white","family":"sans","size":2},"anchor-navigation-ex":{"showLevel":false},"bibtex-indexed-cite":{"path":"/"},"github-buttons":{"buttons":[{"user":"hoppersroppers","repo":"ctf","type":"star","size":"small","count":true}]},"expandable-chapters-small":{},"copy-code-button":{},"ga":{"configuration":"auto","token":"UA-151638088-2"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"bibCount":0,"variables":{},"title":"","bib":[],"gitbook":"*"},"file":{"path":"Cryptography/12-PasswordsandHashingonLinux.md","mtime":"2021-09-10T21:47:01.679Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-09-10T21:47:58.212Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-editlink/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

